{% extends 'base.html' %}

{% block content %}
  <div class="post">
    <h1>{{ post.title }}</h1>
    <p>{{ post.content }}</p>
    
    <div class="edit-box">
      <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">Save Changes</button>
      </form>
    </div>
    
    <div class="content">
      <span class="counter">100</span>
      <button class="edit-button">Edit</button>
    </div>
    
    <div class="bottom">
      <ul class="icons">
        <li><i class="uil uil-capture"></i></li>
        <li><i class="far fa-file-image"></i></li>
        <li><i class="fas fa-map-marker-alt"></i></li>
        <li><i class="far fa-grin"></i></li>
        <li><i class="far fa-user"></i></li>
      </ul>
    </div>
  </div>
  
  <script>
    const editButton = document.querySelector('.edit-button');
    const editBox = document.querySelector('.edit-box');
    
    editButton.addEventListener('click', () => {
      editBox.style.display = 'block';
    });
    
    const editableInput = document.querySelector('.input');
    const counter = document.querySelector('.counter');

    editableInput.addEventListener('input', () => {
      const words = editableInput.value.trim().split(/\s+/).filter(Boolean).length;
      counter.textContent = 100 - words;
    });
  </script>
{% endblock %}

